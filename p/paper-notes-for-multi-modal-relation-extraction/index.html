<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Notes for some MMRE paper.'>
<title>Paper Notes for Multi Modal Relation Extraction</title>

<link rel='canonical' href='https://blog.abelcse.cn/p/paper-notes-for-multi-modal-relation-extraction/'>

<link rel="stylesheet" href="/scss/style.min.8113fc0702e9d6a0d9674053f9a6b06b0f023098371d52312e996de177dc1466.css"><meta property='og:title' content='Paper Notes for Multi Modal Relation Extraction'>
<meta property='og:description' content='Notes for some MMRE paper.'>
<meta property='og:url' content='https://blog.abelcse.cn/p/paper-notes-for-multi-modal-relation-extraction/'>
<meta property='og:site_name' content='abel&#39;s blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='paper-notes' /><meta property='article:tag' content='multi-modal' /><meta property='article:tag' content='collection' /><meta property='article:published_time' content='2024-03-25T15:37:28&#43;08:00'/><meta property='article:modified_time' content='2024-03-25T15:37:28&#43;08:00'/><meta property='og:image' content='https://blog.abelcse.cn/p/paper-notes-for-multi-modal-relation-extraction/cover.jpg' />
<meta name="twitter:title" content="Paper Notes for Multi Modal Relation Extraction">
<meta name="twitter:description" content="Notes for some MMRE paper."><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://blog.abelcse.cn/p/paper-notes-for-multi-modal-relation-extraction/cover.jpg' />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hue3f7bdfccc0be810572359657e66a4ad_56159_300x0_resize_q75_box.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">😴</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">abel&#39;s blog</a></h1>
            <h2 class="site-description">Record abel&#39;s Paper and Tech Notes here.</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/abel-nlp'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#mnre">MNRE</a>
      <ol>
        <li><a href="#背景与动机">背景与动机</a></li>
        <li><a href="#数据集构建">数据集构建</a></li>
        <li><a href="#任务与方法">任务与方法</a></li>
        <li><a href="#结果分析">结果分析</a></li>
      </ol>
    </li>
    <li><a href="#more">MORE</a>
      <ol>
        <li><a href="#背景与动机-1">背景与动机</a></li>
        <li><a href="#数据集构建-1">数据集构建</a></li>
        <li><a href="#任务与方法-1">任务与方法</a></li>
        <li><a href="#结果分析-1">结果分析</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/paper/" style="background-color: 00BFFF; color: #fff;">
                Paper
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/paper-notes-for-multi-modal-relation-extraction/">Paper Notes for Multi Modal Relation Extraction</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            Notes for some MMRE paper.
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Mar 25, 2024</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    11 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="mnre">MNRE</h2>
<ol>
<li>
<p>MNRE: A CHALLENGE MULTIMODAL DATASET FOR NEURAL RELATION EXTRACTION WITH VISUAL EVIDENCE IN SOCIAL MEDIA POSTS. (ICME 2021) (后续简称为 MNRE)</p>
</li>
<li>
<p>Multimodal Relation Extraction with Efficient Graph Alignment. (ACM MM 2021) (后续简称为 MEGA)</p>
</li>
</ol>
<h3 id="背景与动机">背景与动机</h3>
<p>关系抽取任务，就是给定文本和实体后，抽取出实体之间的关系。</p>
<p><strong>MNRE</strong>这篇论文认为，现有的关系抽取任务都主要基于新闻类的数据，这些数据组织良好，形式正规，相对来说更容易建模。</p>
<p>但对于社交媒体类的数据，这些方法会出现较大的性能下降。这是因为社交媒体的文本内容本身就可能不完整，人们往往会配合图片一起发文，所以在进行关系抽取时，还需要额外对图像的内容进行理解。</p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/fig1-1.png"
	width="809"
	height="854"
	
	loading="lazy"
	
		alt="figure 1-1"
	
	
		class="gallery-image" 
		data-flex-grow="94"
		data-flex-basis="227px"
	
></p>
<p>如图1-1所示，对于文本<code>JFK and Obama at Harvard @Harvard</code>，可以得到三个实体：<em>JFK</em>、<em>Obama</em>和<em>Harvard</em>，如果不考虑图像信息，可能会错误地得到<code>&lt;JFK, Residence（住在）, Harvard&gt;</code>和<code>&lt;JFK, Spouse（配偶）, Obama&gt;</code>这些关系。</p>
<p>但如果同时根据图像信息进行理解，就会得到<code>&lt;JFK, Graduated at, Harvard&gt;</code>，因为<em>JFK</em>戴着学位帽，穿着学位服，因此根据文本信息，更容易判断出他毕业于哈佛。</p>
<p>为此，<strong>MNRE</strong>提出了一个新的任务：多模态关系抽取（MRE，或者MMRE），并为此构建了数据集MNRE（Multimodal dataset for Neural Relation Extraction），该数据集主要由Twitter-15和Twitter-17构建而来，因此是偏向于社交媒体关系抽取的。作者认为，该工作既推动了多模态关系抽取任务的发展，也为对齐较细粒度的文本-图像信息做出了贡献。</p>
<p>第2篇论文是同一批作者，主要是对该数据集做了一些改进，对新数据集做了几个baseline，并验证了自己的方法，具体内容将在后续介绍。</p>
<h3 id="数据集构建">数据集构建</h3>
<p>数据集来源：两个多模态实体识别数据集：Twitter-15和Twitter-17，以及部分从Twitter上爬取的内容（2019年1月-2月的内容）；</p>
<p>数据集涵盖：没有特意挑选具体的领域，比如运动、社会事件，而是尽可能确保实体的多样性，并且去除了非英语以及实体数量低于两个的句子；</p>
<p>标注方法：源数据、预训练好的NER标注工具、人工标注；</p>
<p>具体情况见表1-1所示，其中</p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/tab1-1.png"
	width="1617"
	height="375"
	
	loading="lazy"
	
		alt="table 1-1"
	
	
		class="gallery-image" 
		data-flex-grow="431"
		data-flex-basis="1034px"
	
></p>
<p>第2篇论文对此做了改进，新的数据信息见表1-2和图1-2。由于后续的大量研究都是基于新数据集的，所以<code>MNRE</code>论文后续的方法和内容将不再介绍，而是以第2篇论文<code>MEGA</code>为主。</p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/tab1-2.png"
	width="617"
	height="352"
	
	loading="lazy"
	
		alt="table 1-2"
	
	
		class="gallery-image" 
		data-flex-grow="175"
		data-flex-basis="420px"
	
></p>
<p>图1-2则是对修改后的数据集的关系类别进行了统计，可以看到关系类别的标签还是存在很明显的不平衡问题。</p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/fig1-2.png"
	width="884"
	height="602"
	
	loading="lazy"
	
		alt="figure 1-2"
	
	
		class="gallery-image" 
		data-flex-grow="146"
		data-flex-basis="352px"
	
></p>
<h3 id="任务与方法">任务与方法</h3>
<p>任务定义非常简单，与文本不同的在于，给定的输入还多了与文本相关联的图片：</p>
<p>$F(e_1, e_2, S, V) \rightarrow Y$，既给定句子$S = (w_1, w_2, &hellip;, w_n)$，句子中的实体$e_1, e_2$，以及与句子相关联的视觉内容$V = (v_1, v_2, &hellip;, v_n)$，然后预测出实体$e_1,e_2$之间的关系类别$Y$。（注意，虽然定义中给出的是视觉内容集合，但实际数据集中基本上是一个句子对应一张图像，即使有多个关联情况，数据集也是将其划分为多个样本的）</p>
<p>为了构建baseline以做对比，<code>MNRE</code>论文分别测试了三类方法：基于CNN的方法<em>Glove+CNN</em>、基于预训练语言模型的方法<em>BertNER</em>、远程监督的方法<em>PCNN</em>，此外，论文还将CNN与PLM结合了一下，即<em>Bert+CNN</em>的方法。而<code>MEGA</code>保留了<em>Glove+CNN</em>和<em>PCNN</em>的方法，并有专门面向关系抽的预训练Bert模型<em>MTB</em> (Matching the Blanks)、BERT结合场景图的方法<em>Bert+SG</em>、以及额外增加了注意力机制的方法<em>Bert+SG+Att</em>。</p>
<p>MEGA的方法如图1-3所示：</p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/fig1-3.png"
	width="2008"
	height="798"
	
	loading="lazy"
	
		alt="figure 1-3"
	
	
		class="gallery-image" 
		data-flex-grow="251"
		data-flex-basis="603px"
	
></p>
<p>根据方法图，MEGA的方法大致可以分为三部分：结构化特征表示、多模态特征对齐和实体表示与关系预测。</p>
<ul>
<li>
<p>结构化特征表示：</p>
<p>文本结构：依存句法树，MEGA使用ELMo提取给定文本得句法，构建出对应的句法树；</p>
<p>图像结构：场景图生成(SGG)，MEGA使用场景图生成模型得到针对图像的graph结构信息（场景图就是从图像中抽取出的以 object-relation-object结构为主的Graph）</p>
<p>从模型结构中可以看到，句法树其实就是文本的图结构，场景图就是图像中物体关系的结构，并且该方法额外还是用了文本的表示，也就是$BERT(Text)$；</p>
</li>
<li>
<p>多模态特征对齐：</p>
<p>结构对齐：即对句法树和场景图进行对齐，通过邻接矩阵构建出各实体和目标之间的映射关系；</p>
<p>语义对齐：将场景图的信息和从BERT中出来的文本特征进行融合，简单来说就是一个注意力机制，其中Query和Value是文本特征，Key是图像特征；</p>
</li>
<li>
<p>关系预测：</p>
<p>这部分就是图1-3中的最右边的操作，简单来说，就是将之前结构、语义对齐的视觉特征融合，得到最终对齐的视觉语义特征；以及从BERT中出来的文本特征中得到头、尾实体的特征，将他们做个简单的拼接操作，也就是实体$E_{entity} = [head;tail]$，与对齐的视觉特征$E_{visual}$ 做拼接$z = [E_{entity};E_{visual}]$，然后直接全连接预测关系$output = MLP(z)$</p>
</li>
</ul>
<h3 id="结果分析">结果分析</h3>
<p>MEGA的实验结果如表1-3所示：</p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/tab1-3.png"
	width="858"
	height="355"
	
	loading="lazy"
	
		alt="table 1-3"
	
	
		class="gallery-image" 
		data-flex-grow="241"
		data-flex-basis="580px"
	
></p>
<p>可以看到MEGA是有效的。</p>
<p>直观上来看，MEGA处理多模态信息时，分别从<code>结构对齐</code>和<code>语义对齐</code>两个方向出发，并进行模态融合，这是常见且有效的一种方法。</p>
<p>然而，这种方法并非端到端的，场景图生成是有错误的，句法分析也是有错误的，除非MNRE数据集同时有这两个模型的强监督信号，并且在反向传播时也能更新他们的梯度，否则会由于错误积累导致后面模型性能存在不可能太高的上限。</p>
<p>实际上，哪怕直接利用<code>BERT+ViT</code>的方式进行端到端学习，也能得到比当前结果高的多的性能，甚至不使用视觉信号，BERT也能发挥很好的效果，因此一定程度上需要验证该方法对齐方式的有效性（这也符合对错误累积问题的分析）</p>
<p>此外，其实数据集本身还存在问题，这些将在后续的论文更新中总结。</p>
<!-- raw HTML omitted -->
<h2 id="more">MORE</h2>
<p>MORE: A Multimodal Object-Entity Relation Extraction Dataset with a Benchmark Evaluation.  (ACM MM 2023)</p>
<h3 id="背景与动机-1">背景与动机</h3>
<p>前面MNRE数据集率先提出了多模态关系抽取任务（MRE｜MMRE），其任务目标是给定文本、对应图片和文本中的实体对后，预测出实体对的关系信息。该任务定义有几个比较强的假设，一是图像-文本是匹配的，也就是图像信息能帮助对应文本的内容理解，二是实体都出现在文本中，虽然不排除图像信息有与之对应的内容，但必须确保文本中含有两个及以上的实体。</p>
<p>对于第一点，对多模态任务而言是非常合理的，但对数据集的质量有要求。</p>
<p>针对第二点，本文则认为相对来说是不合理的，多模态的关系三元组构成元素很多都来自于不同的模态，比如某个实体来源于文本，而另一个则是图像中的物体。为此，本文就设计了新的多模态关系抽取任务形式，即给定文本和对应图像，需要对来源于 文本中的实体 和 图像中的物体 所构成的<code>Object-Entity Pair</code>预测关系，具体如图2-1所示。</p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/fig2-1.png"
	width="896"
	height="832"
	
	loading="lazy"
	
		alt="figure 2-1"
	
	
		class="gallery-image" 
		data-flex-grow="107"
		data-flex-basis="258px"
	
></p>
<p>也就是说，给定文本和对应图像后，还会从文本中给定若干实体，以及从图像中给定若干物体，最后要求模型对两两的实体-物体组合（Object-Entity Pair）预测出他们之间的关系。为此，本文按照这种任务的形式构建了新的数据集<strong>MORE</strong>（Multimodal Object-Entity Relation Extraction）</p>
<h3 id="数据集构建-1">数据集构建</h3>
<p>数据集来源：与MNRE数据集从社交媒体推文中收集不同，该数据集从更正规的新闻媒体（The New York Times English和Yahoo News）中收集，因此数据集的质量相对更有保障，而且图-文匹配的程度更高。</p>
<p>MORE的数据集构建分为三个步骤：</p>
<ol>
<li>利用AllenNLP NER工具对文本中的实体进行抽取；利用YoLo V5对图像中的物体进行抽取；随后由人工对抽取的实体与物体进行筛选和过滤；</li>
<li>让人工标注者对实体-物体之间的关系进行标注，没有关系的数据标注为<code>none</code>关系，当然还有很多分组等确保标注质量、偏见和差距的方法，这里就不提了；</li>
<li>关系过滤，也就是确保只有需要同时根据文本和图像才能得到的关系（过滤掉单独从文本或者单独从图像就能推测出关系的样本）</li>
</ol>
<p>最终的数据集概要如表2-1:</p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/tab2-1.png"
	width="1110"
	height="296"
	
	loading="lazy"
	
		alt="table 2-1"
	
	
		class="gallery-image" 
		data-flex-grow="375"
		data-flex-basis="900px"
	
></p>
<p>可以看到该数据集也与MNRE数据集做了对比，相比之下，MORE的样本数量变少了，但是关系三元组变多了，并且因为新增的Object任务模式（平均每张图有3.8个object，此外，平均每个文本1.5个entity），MORE数据集更难。进一步地，MORE数据集有22.2%的关系Fact是只包含1个实体和1个物体的，而77.8%的关系Fact含有多个实体和物体，所以对MMRE模型有更大的挑战性。</p>
<p>在关系类别的分布上，大致涵盖了生活、位置等领域，但也呈现标签分布不均衡的问题，具体如图2-2所示。</p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/fig2-2.png"
	width="1068"
	height="788"
	
	loading="lazy"
	
		alt="figure 2-2"
	
	
		class="gallery-image" 
		data-flex-grow="135"
		data-flex-basis="325px"
	
></p>
<h3 id="任务与方法-1">任务与方法</h3>
<p>与MNRE的任务定义类似，MORE定义的任务形式为：$F = (e, o, S, V) \rightarrow R$，其中$e \in S, o \in V$。</p>
<p>因为是23年的论文，因此除了较为简单的baseline外，本文还用了一些VLP的模型，后续会列出其性能的比较。</p>
<p>本文提出的方法为<code>MOREformer</code>，模型结构如图2-3所示。</p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/fig2-3.png"
	width="2220"
	height="1382"
	
	loading="lazy"
	
		alt="figure 2-3"
	
	
		class="gallery-image" 
		data-flex-grow="160"
		data-flex-basis="385px"
	
></p>
<p>论文提到自己的方法主要是基于MKGformer而设计的，因此先介绍MKGformer的基本方法：其使用的文本编码器是BERT，图像编码器是ViT，对于得到的特征，需要进行融合：</p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/fom2-1.png"
	width="834"
	height="196"
	
	loading="lazy"
	
		alt="formula 2-1"
	
	
		class="gallery-image" 
		data-flex-grow="425"
		data-flex-basis="1021px"
	
></p>
<p>根据公式可以看到，对于文本和图像的特征表示$H^{M_t}, H^{M_v}$，将会被放到前缀指导交互模块（PGI, Prefix Guided Interaction）中，从而得到下一层的特征$\bar{H}_l^{M_t}, \bar{H}_l^{M_v}$，而新的两个特征又会放到相关性融合模块（CAF，Correlation-Aware Fusion）中进行融合。</p>
<p>那么，PGI到底是干什么的？其实就是个注意力机制，而且是个专门处理[CLS] token的模块。对于文本特征而言，就是自注意力机制$M_t[CLS] = Attn(Q_t, K_t, V_t)$，但视觉的前缀则是修改后的注意力，大致为$M_v[CLS] = Attn(Q_v, [K_v, K_t], [V_v, V_t])$，也就是Key和Value是图像与文本的特征拼接，IFAformer也是这种融合的注意力机制。通过PGI，将加强文本[CLS]对自己全局信息的概括能力，以及图像[CLS]对文本-图像全局信息的概括能力。</p>
<p>而CAF模块则负责模态的融合，具体细节后续整理MKGformer时再列出，大致可以认为该模块就是让文本的token和图像的patch进行交互，最后再送入FFN中。</p>
<p>本文以上述方法为基础，主要设计了三个模块：</p>
<ol>
<li>
<p>属性相关的文本编码器（Attribute-Aware Textual Encoder）：这里不需要看公式，根据图2-3可知，就是一个图像描述生成任务的利用，先利用ClipCap生成图像的文本描述，再将该文本描述作为样本中的文本的辅助信息。这样做也是非常常见的一种方法，因为生成的文本本身就是对图像大致内容的描述，分析该文本有助于模型更好地理解图像信息（当然Image Caption模型的好坏会制约生成文本的作用）；具体使用时，本方法则是将整个描述文本当作object来用。也就是说：对于文本$S$和其中的实体$e$，得到BERT分词后的token序列，并将图像生成的描述$caption$拼接上去，之后就是正常通过BERT得到嵌入表示了，即：</p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/fom2-2.png"
	width="858"
	height="228"
	
	loading="lazy"
	
		alt="formula 2-2"
	
	
		class="gallery-image" 
		data-flex-grow="376"
		data-flex-basis="903px"
	
></p>
</li>
<li>
<p>深度相关的视觉编码器（Depth-Aware Visual Encoder）：图像的深度信息能过表示图中各物体的层次结构，本文利用S2RDepthNet得到图像的深度信息，简而言之就是将ViT得到RGB-3通道的patch和深度网络模型得到的深度表示拼接在一起，形成具有深度信息的图像表示；</p>
</li>
<li>
<p>位置融合的多模态编码器（Position-Fused Multimodal Encoder）：这里的步骤比较多，简单来讲就是既要利用图像表示、文本表示，还要使用目标的位置信息（因为抽取的图像是标注出来的，因此数据集中含有目标框bbox信息），从而在最后进行MLP关系预测时，能即考虑文本、图像的特征，还考虑实体、图像层次和目标位置的信息，最终做出预测。</p>
</li>
</ol>
<h3 id="结果分析-1">结果分析</h3>
<p>本文在实验上做的还是比较充分的，主要的实验结果以及针对本文方法的消融实验分别如图2-4和图2-5所示。</p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/fig2-4.png"
	width="1144"
	height="510"
	
	loading="lazy"
	
		alt="figure 2-4"
	
	
		class="gallery-image" 
		data-flex-grow="224"
		data-flex-basis="538px"
	
></p>
<p><img src="/p/paper-notes-for-multi-modal-relation-extraction/fig2-5.png"
	width="748"
	height="582"
	
	loading="lazy"
	
		alt="figure 2-5"
	
	
		class="gallery-image" 
		data-flex-grow="128"
		data-flex-basis="308px"
	
></p>
<p>主实验就不说了，主要看看消融实验，其中P、A和D分别指位置融合、属性（描述文本）和深度信息，按照其结果来看，位置信息最重要，其次是对图像的文本描述，最后是深度信息。这说明文本模块（BERT）发挥了更大的作用，而图像模块（ViT）需要更细致的信息才能起作用。</p>
<p>其次，和MNRE那里类似，本文也用了很多属于pipeline的模块，例如深度信息生成和图像描述生成，这些模型都没接受梯度更新，因此他们的错误会累积到后续的模块中去。</p>
<!-- raw HTML omitted -->

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/paper-notes/">paper-notes</a>
        
            <a href="/tags/multi-modal/">multi-modal</a>
        
            <a href="/tags/collection/">collection</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>个人博客，请勿转载。Personal blog, please do not repost.</span>
    </section>
    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"integrity="sha256-J&#43;iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s="crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js"integrity="sha256-InsNdER1b2xUewP&#43;pKCUJpkhiqwHgqiPXDlIk7GzBu4="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js"integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/paper-notes-for-visual-language-models/">
        
        
            <div class="article-image">
                <img src="/p/paper-notes-for-visual-language-models/vit.0cbf68317b630fb5074c16d4f01711c6.png" 
                        width="934" 
                        height="461" 
                        loading="lazy"
                        alt="Featured image of post Paper Notes for Visual Language Models"
                        
                        data-hash="md5-DL9oMXtjD7UHTBbU8BcRxg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Paper Notes for Visual Language Models</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2019 - 
        
        2024 abel&#39;s blog
    </section>
    
    <section class="powerby">
        Built with Hugo <br />
        
        Theme Stack designed by Jimmy
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=WenKai:wght@300;400;700&display=swap";
        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
